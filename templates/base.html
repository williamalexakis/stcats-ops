{% load static core_extras %}
<!doctype html>
<html lang="en" data-theme="light">

<head>
    <meta charset="utf-8" />
    <title>{% block title %}CS Dept Platform{% endblock %}</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="icon" href="data:," />
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    <script src="{% static 'js/ajax.js' %}" defer></script>

    {% block head %}{% endblock %}
</head>

<body>
    <header>
        <div class="header-content">
            <a href="{% url 'home' %}" class="logo">
                <i class="fa-solid fa-computer"></i>

                CS Department Platform

            </a>

            <nav>
                {% if user.is_authenticated %}
                    <a href="{% url 'announcements' %}">
                        <i class="fa-solid fa-bullhorn"></i>

                        Announcements

                    </a>

                    <a href="{% url 'chat' %}">
                        <i class="fa-solid fa-comment-dots"></i>

                        Chat

                    </a>

                    <a href="{% url 'members' %}">
                        <i class="fa-solid fa-users"></i>

                        Members

                    </a>

                    <a href="{% url 'scheduler' %}">
                        <i class="fa-solid fa-calendar-days"></i>

                        Schedule

                    </a>

                    <a href="{% url 'code_editor' %}">
                        <i class="fa-solid fa-code"></i>

                        Code Editor

                    </a>

                    {% if user|is_admin %}

                        <a href="{% url 'admin_panel' %}">
                            <i class="fa-solid fa-gears"></i>

                            Admin Dashboard

                        </a>

                    {% endif %}

                    <a href="{% url 'logout' %}">
                        <i class="fa-solid fa-arrow-right-from-bracket"></i>

                        Logout

                    </a>

                {% else %}

                    <a href="{% url 'login' %}">
                        <i class="fa-solid fa-arrow-right-to-bracket"></i>

                        Login

                    </a>

                    <a href="{% url 'signup' %}">
                        <i class="fa-solid fa-user-plus"></i>

                        Signup

                    </a>

                {% endif %}
            </nav>
        </div>
    </header>

    <main>

        <div id="flash-container">
            {% if messages %}

                {% for message in messages %}

                    <div class="flash {{ message.tags|default:'info' }}">

                        {% if message.tags == 'success' %}
                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>

                        {% elif message.tags == 'error' %}

                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>

                        {% else %}

                            <svg class="icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                            </svg>

                        {% endif %}

                        <span>{{ message }}</span>
                    </div>

                {% endfor %}

            {% endif %}
        </div>

        {% block content %}{% endblock %}

    </main>

    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle theme" title="Toggle theme">
        <span class="theme-icon-light">‚òÄÔ∏è</span>
        <span class="theme-icon-dark">üåô</span>
    </button>

    <footer class="site-footer">
        <div class="site-footer__inner">
            <p class="site-footer__intro">
                Made by <span class="site-footer__author">William Alexakis</span>
            </p>

            <div class="site-footer__contacts">

                School contact:

                <a href="mailto:william.alexakis@stcatherines.gr" class="site-footer__link">
                    <i class="fa-solid fa-envelope"></i>

                    william.alexakis@stcatherines.gr

                </a>

                Personal contact:

                <a href="mailto:w.alexakis@icloud.com" class="site-footer__link">
                    <i class="fa-solid fa-envelope"></i>

                    w.alexakis@icloud.com

                </a>
            </div>
        </div>
    </footer>

    <script src="{% static 'js/theme.js' %}"></script>

    {% block scripts %}{% endblock %}

</body>

</html>

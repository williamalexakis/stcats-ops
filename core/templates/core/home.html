{% extends "base.html" %}

{% block title %}Home - CS Dept Platform{% endblock %}

{% block content %}

<div class="card home-card">
    <div class="home-card__icon">
        <i class="fa-solid fa-computer"></i>
    </div>

    <h1 class="home-card__title">CS Department Platform</h1>

    <p class="home-card__description">
        Internal management and communications for the St. Catherine's computer science department.
    </p>

    {% if user.is_authenticated %}

        <div class="home-user">
            <div class="home-user__profile">
                <div class="home-user__avatar {% if user.is_superuser %}home-user__avatar--superuser{% elif user.groups.all.0.name == 'admin' %}home-user__avatar--admin{% else %}home-user__avatar--teacher{% endif %}">
                    {{ user.username|first|upper }}
                </div>

                <div class="text-left">
                    <div class="home-user__label">Logged in as</div>
                    <div class="home-user__name">{{ user.username }}</div>
                    <div class="home-user__role">

                        {% if user.is_superuser %}

                            <i class="fa-solid fa-crown icon-superuser"></i>

                            Superuser

                        {% elif user.groups.all.0.name == 'admin' %}

                            <i class="fa-solid fa-user-shield icon-admin"></i>

                            Admin

                        {% else %}

                            <i class="fa-solid fa-chalkboard-user icon-teacher"></i>

                            Teacher

                        {% endif %}

                    </div>
                </div>
            </div>
        </div>

        <div class="home-features">
            <a href="{% url 'announcements' %}" class="home-feature-link">
                <i class="fa-solid fa-bullhorn home-feature-link__icon"></i>

                <span class="home-feature-link__label">Announcements</span>
            </a>

            <a href="{% url 'chat' %}" class="home-feature-link">
                <i class="fa-solid fa-comment-dots home-feature-link__icon"></i>

                <span class="home-feature-link__label">Chat</span>
            </a>

            <a href="{% url 'members' %}" class="home-feature-link">
                <i class="fa-solid fa-users home-feature-link__icon"></i>

                <span class="home-feature-link__label">Members</span>
            </a>

            <a href="{% url 'scheduler' %}" class="home-feature-link">
                <i class="fa-solid fa-calendar-days home-feature-link__icon"></i>

                <span class="home-feature-link__label">Schedule</span>
            </a>

            <a href="{% url 'code_editor' %}" class="home-feature-link">
                <i class="fa-solid fa-code home-feature-link__icon"></i>

                <span class="home-feature-link__label">Code Editor</span>
            </a>

            {% if request.user.groups.all.0.name == 'admin' or request.user.is_superuser %}

                <a href="{% url 'admin_panel' %}" class="home-feature-link">
                    <i class="fa-solid fa-gears home-feature-link__icon"></i>

                    <span class="home-feature-link__label">Admin Dashboard</span>
                </a>

            {% endif %}

        </div>

    {% else %}

        <div class="home-auth-actions">
            <a href="{% url 'login' %}" class="btn button-icon">
                <i class="fa-solid fa-arrow-right-to-bracket button-icon__icon"></i>

                Login

            </a>

            <a href="{% url 'signup' %}" class="btn btn-secondary button-icon">
                <i class="fa-solid fa-user-plus button-icon__icon"></i>

                Sign Up

            </a>
        </div>

    {% endif %}

</div>

{% endblock %}
